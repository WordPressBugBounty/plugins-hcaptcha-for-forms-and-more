(()=>{function t(t,a){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var n,i,o,r,c=[],s=!0,l=!1;try{if(o=(a=a.call(t)).next,0===e){if(Object(a)!==a)return;s=!1}else for(;!(s=(n=o.call(a)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=a.return&&(r=a.return(),Object(r)!==r))return}finally{if(l)throw i}}return c}}(t,a)||function(t,a){if(t){if("string"==typeof t)return e(t,a);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,a):void 0}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=Array(e);a<e;a++)n[a]=t[a];return n}var a=function(e){var a=document.querySelector("#wpadminbar"),n=document.querySelector(".hcaptcha-settings-tabs"),i=document.querySelector(".hcaptcha-header-bar"),o="#hcaptcha-message",r=e(o),c=e("#wpwrap"),s=e("#adminmenuwrap"),l=e("#hcaptcha-integrations-search");function d(t,a){r.removeClass(),r.addClass(a+" notice settings-error is-dismissible"),r.html("<p>".concat(t,"</p>")),e(document).trigger("wp-updates-notice-added");var n=r.clone();r.css("visibility","hidden"),n.css("margin","0px"),n.css("top",c.position().top),n.css("z-index","999999");var i="block"===s.css("display")?s.width():0;n.css("left",i),n.width(e(window).width()-i),n.css("position","fixed"),e("body").append(n),setTimeout((function(){r.css("visibility","unset"),n.remove()}),3e3)}function h(t){d(t,"notice-error")}function u(t){return t.is(jQuery(".form-table").eq(0))}function f(t,a,n){var i=!1,o=a.toLowerCase(),r=!u(t),c=n.find("fieldset");c.attr("disabled",r),c.find("input").attr("disabled",r),t.find("tbody").children().each((function(t,a){var r=e(a).find(".hcaptcha-integrations-logo img").attr("alt");if((r=(r=r||"").replace(" Logo","")).toLowerCase()>o)return n.insertBefore(e(a)),i=!0,!1})),i||t.find("tbody").append(n)}e(".form-table img").on("click",(function(c){function s(){var o,r,c=b?"on":"off",s=(r=document.querySelector(".kagg-dialog select"))&&null!==(o=r.value)&&void 0!==o?o:"",l={action:HCaptchaIntegrationsObject.action,nonce:HCaptchaIntegrationsObject.nonce,activate:b,entity:g,status:C,newTheme:s};v.addClass(c),e.post({url:HCaptchaIntegrationsObject.ajaxUrl,data:l}).done((function(o){if(void 0!==o.success)if(void 0!==o.data.themes&&(HCaptchaIntegrationsObject.themes=o.data.themes,HCaptchaIntegrationsObject.defaultTheme=o.data.defaultTheme),o.success){var r,c=e(".form-table").eq(b?0:1);!function(t,a,n){if("theme"===a){var i=e(".form-table"),o=t?"":'[data-label="'+n+'"]',r=i.eq(t?0:1).find('.hcaptcha-integrations-logo img[data-entity="theme"]'+o);if(r.length){var c=i.eq(t?1:0),s=r.closest("tr");f(c,r.attr("data-label"),s)}}}(b,g,s),f(c,p,v),function(t){d(t,"notice-success")}(o.data.message),function(a){for(var n=e(".form-table"),i=0,o=Object.entries(a);i<o.length;i++){var r=t(o[i],2),c=r[0],s=r[1],l="hcaptcha-integrations-"+c.replace(/_/g,"-"),d=e("tr.".concat(l));u(d.closest(".form-table"))!==s&&f(n.eq(s?0:1),d.find(".hcaptcha-integrations-logo img").attr("alt"),d)}}(o.data.stati),e("html, body").animate({scrollTop:v.offset().top-(r=!a||"absolute"===window.getComputedStyle(a).position,(a&&!r?a.offsetHeight:0)+(n?n.offsetHeight:0)+(i?i.offsetHeight:0))},1e3)}else{var l,m;h(null!==(l=null===(m=o.data)||void 0===m?void 0:m.message)&&void 0!==l?l:o.data)}else d(HCaptchaIntegrationsObject.unexpectedErrorMsg,"notice-error")})).fail((function(t){h(t.statusText)})).always((function(){v.removeClass("on off")}))}c.preventDefault(),r.remove(),e('<div id="hcaptcha-message"></div>').insertAfter(".hcaptcha-header-bar"),r=e(o);var l=e(c.target),g=l.data("entity");if(g=g||"",-1!==e.inArray(g,["core","theme","plugin"])&&-1===e.inArray(g,["core"])){var p=l.attr("alt");p=(p=p||"").replace(" Logo","");var m,b,v=l.closest("tr"),y=v.attr("class").match(/hcaptcha-integrations-([a-z0-9-]+)/),C=y?y[1]:"",j="";if(v.find("fieldset").attr("disabled"))m="plugin"===g?HCaptchaIntegrationsObject.activateMsg:HCaptchaIntegrationsObject.activateThemeMsg,b=!0;else{if("plugin"===g)m=HCaptchaIntegrationsObject.deactivateMsg;else{for(var O in m=HCaptchaIntegrationsObject.deactivateThemeMsg,j="<p>"+HCaptchaIntegrationsObject.selectThemeMsg+"</p>",j+="<select>",HCaptchaIntegrationsObject.themes){var w=O===HCaptchaIntegrationsObject.defaultTheme?' selected="selected"':"";j+='<option value="'.concat(O,'"').concat(w,">").concat(HCaptchaIntegrationsObject.themes[O],"</option>")}j+="</select>"}b=!1}if(-1===e.inArray(g,["theme"])||b||0!==Object.keys(HCaptchaIntegrationsObject.themes).length){if(!v.find(".hcaptcha-integrations-logo").data("installed"))return m=(m=HCaptchaIntegrationsObject.installMsg).replace("%s",p),void kaggDialog.confirm({title:m,content:j,type:"install",buttons:{ok:{text:HCaptchaIntegrationsObject.OKBtnText}}});c.ctrlKey?s():(m=m.replace("%s",p),kaggDialog.confirm({title:m,content:j,type:b?"activate":"deactivate",buttons:{ok:{text:HCaptchaIntegrationsObject.OKBtnText},cancel:{text:HCaptchaIntegrationsObject.CancelBtnText}},onAction:function(t){t&&s()}}))}else kaggDialog.confirm({title:HCaptchaIntegrationsObject.onlyOneThemeMsg,content:"",type:"info",buttons:{ok:{text:HCaptchaIntegrationsObject.OKBtnText}}})}}));var g,p,m;l.on("input",(g=function(){var t=l.val().trim().toLowerCase(),a=e(".hcaptcha-integrations-logo img"),n=null;if(a.each((function(a,i){var o=e(i);if("core"!==o.data("entity")){var r,c=o.closest("tr");o.data("label").toLowerCase().includes(t)?(c.show(),n=null!==(r=n)&&void 0!==r?r:c):c.hide()}})),n){var i=n.offset().top+n.outerHeight()-e(window).height()+5;e("html").stop().animate({scrollTop:i},1e3)}},p=100,function(){var t=this,e=arguments;clearTimeout(m),m=setTimeout((function(){return g.apply(t,e)}),p)})),e("#hcaptcha-options").keydown((function(t){e(t.target).is(l)&&13===t.which&&t.preventDefault()}))};window.hCaptchaIntegrations=a,jQuery(document).ready(a)})();